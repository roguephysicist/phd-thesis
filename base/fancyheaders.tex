% Fancy header style options for each page
\pagestyle{fancy}% Sets fancy header and footer
\fancyhead{}% Resets headers
\fancyfoot{}% and footers

\fancyhead[LE,RO]{\thepage}% Page number left on even and right on odd pages
\fancyhead[RE]{\itshape\nouppercase{\leftmark}}% Chapter right on even pages
\fancyhead[LO]{\itshape\nouppercase{\rightmark}}% Section left on odd pages
\renewcommand{\headrulewidth}{0.5pt}

\fancypagestyle{plain}{
  \fancyhead{}
  \fancyfoot{}
  \renewcommand{\headrulewidth}{0pt}
}

% No headers on empty pages before new chapter
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
    \hbox{}
    \thispagestyle{plain}
    \newpage
    \if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother \clearpage{\pagestyle{plain}\cleardoublepage}
